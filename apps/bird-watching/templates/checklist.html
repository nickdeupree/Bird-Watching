[[extend 'layout.html']]

<style>
[v-cloak] {
     display: none;
}
</style>


<div class="section" id="app" v-cloak>
  <!-- Put here your Vue.js template -->
  <h1 class="title">Checklist</h1>

  <div class="container">
    <table class="table is-fullwidth is-striped">
      <tr class="search-row"> <!-- search bar for filtering -->
        <td class="is-narrow"><i class="is-size-2 fa fa-search has-text-success search-species" @click="filter_species"></i></td>
        <td><input class="input search-species" type="text" name="new_item" v-model="new_item"></td>
        <td class="is-narrow"></td>
      </tr>
    </table>
    <table class="table is-fullwidth is-striped">
      <tr class="add-row"> <!-- add bar for new species -->
        <td class="is-narrow"><i class="is-size-2 fa fa-plus-square has-text-success add-item" @click="add_species"></i></td>
        <td><input class="input add-item" type="text" name="new_item" v-model="new_item"></td>
        <td class="is-narrow"></td>
      </tr>
      <tr class="item-row" v-for="(item, idx) in checklists[checklist_id]"> <!-- table of species -->
        <!-- <td class="check is-narrow"><input type="checkbox" :checked="item.checked" @click="update_quantity(idx)"></td> -->
        <td class="item"> {{ item.species_name}} </td>
        <td class="trash is-narrow" @click="remove_item(idx)"><span><i class="trash has-text-danger fa fa-trash"></i></span></td>
      </tr> 
    </table>
  </div>
</div>


[[block page_scripts]]
<!-- Loads the index-specific js for Vue -->
<script>
  // Add other URLs here if you wish.
  let load_sightings_url = "[[=XML(load_sightings_url)]]";
</script>
<script src="js/checklist.js"></script>
[[end]]